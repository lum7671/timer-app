#!/bin/bash

# Timer.app CLI launcher script
# Usage: timer-launch --time 19:30
#        timer-launch --duration 30
#        timer-launch --seconds 1800

# Timer.appì˜ ê²½ë¡œ ì°¾ê¸°
TIMER_APP_PATH=""
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ ì°¾ê¸°
if [ -f "$SCRIPT_DIR/build/Release/Timer.app/Contents/MacOS/Timer" ]; then
    TIMER_APP_PATH="$SCRIPT_DIR/build/Release/Timer.app"
# ê°œë°œ ë””ë ‰í† ë¦¬ì—ì„œ ì°¾ê¸°
elif [ -f "/Users/1001028/git/timer-app/build/Release/Timer.app/Contents/MacOS/Timer" ]; then
    TIMER_APP_PATH="/Users/1001028/git/timer-app/build/Release/Timer.app"
# ì„¤ì¹˜ëœ Timer.app ì°¾ê¸°
else
    TIMER_APP_PATH=$(mdfind "kMDItemCFBundleIdentifier == 'com.michaelvillar.Timer'" | head -1)
fi

if [ -z "$TIMER_APP_PATH" ]; then
    echo "âŒ Timer.appì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
    echo "Timer.appì„ ë¹Œë“œí•˜ê±°ë‚˜ ì„¤ì¹˜í•´ì£¼ì„¸ìš”."
    exit 1
fi

echo "ğŸš€ Timer.app ì‹¤í–‰: $TIMER_APP_PATH"
echo "ğŸ“ Arguments: $@"

# Timer.appì„ argumentsì™€ í•¨ê»˜ ì‹¤í–‰
open -a "$TIMER_APP_PATH" --args "$@"

echo "âœ… Timer.appì´ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤!"
